# 新年贺卡生成器 (New Year Card Generator) 开发计划

## 项目目标
构建一个基于 Web (H5) 的互动式新年贺卡生成应用。用户输入名字后，利用 AI 生成个性化祝福语（如藏头诗），并配合动态视觉特效（烟花、灯笼、雪花等）进行展示。旨在超越传统静态图片贺卡，提供更强的沉浸感和分享价值。

## 核心功能
1.  **智能祝福创作**：接入 AI (Gemini/OpenAI) 生成结合用户名字的专属祝福词（藏头诗/排比句）。
2.  **动态视觉引擎**：使用前端动画库实现“会动的贺卡”，包括文字书写特效、背景氛围动画（烟花/飘雪）。
3.  **一键生成/分享**：
    -   **动态模式**：生成专属链接，好友点开可见动态效果。
    -   **静态模式**：支持将当前画面（含名字和祝福）保存为精美图片，用于朋友圈发布。

## 技术栈选择
-   **前端框架**: Next.js (React) - 保证首屏加载速度和 SEO。
-   **样式/UI**: Tailwind CSS - 快速构建响应式红金喜庆主题。
-   **动画库**: 
    -   `framer-motion`: 用于文字和 UI 元素的优雅入场/交互。
    -   `canvas-confetti` 或 `tsparticles`: 实现高性能的烟花/雪花粒子特效。
-   **AI 服务**: Vercel AI SDK + Google Gemini (或 OpenAI) - 用于生成文本内容。
-   **图片合成**: `satori` + `@vercel/og` (或 `html2canvas`) - 将动态网页高保真转换为静态图片。
-   **部署**: Vercel - 零配置上线，支持 Serverless API。

## 开发步骤 (Roadmap)

### 第一阶段：项目初始化与基础搭建
- [ ] **创建项目**: 初始化 Next.js 项目 (`web-app`)。
- [ ] **依赖安装**: 安装 Tailwind CSS, Framer Motion, AI SDK 等核心库。
- [ ] **基础 UI 布局**: 搭建“首页（输入页）”和“贺卡展示页”的框架，确定“红+金”的新年配色方案。

### 第二阶段：核心功能开发 (AI & 动画)
- [ ] **API 开发**: 创建 Vercel Serverless API 路由，编写 Prompt (提示词) 以连接 LLM，实现“输入名字 -> 输出藏头诗”的逻辑。
- [ ] **动态效果实现**:
    -   集成 `framer-motion` 实现祝福语逐字显现的打字机效果。
    -   集成粒子库实现背景的动态氛围（如随机绽放的烟花）。
- [ ] **贺卡渲染组件**: 开发可复用的贺卡组件，确保名字和祝福语在不同屏幕尺寸下完美排版。

### 第三阶段：交互优化与图片生成
- [ ] **图片合成功能**: 实现“保存图片”按钮，将当前的贺卡视图（DOM）转换为高清图片供用户下载。
- [ ] **用户体验优化**: 添加加载动画（Loading...），优化输入框交互，增加背景音乐（可选）。
- [ ] **微信适配**: 优化在微信内置浏览器中的显示效果（处理顶部导航栏遮挡等问题）。

### 第四阶段：测试与部署
- [ ] **功能测试**: 测试不同长度名字的生成效果，测试 AI 响应速度。
- [ ] **部署上线**: 推送代码至 GitHub 并自动部署到 Vercel，获得访问链接。

## 待确认事项
- [ ] 是否需要接入微信 JSSDK 以支持自定义分享卡片（标题、缩略图）？(初期可先不做，直接复制链接)。
- [ ] AI 模型选择：优先使用 Gemini (免费额度高) 还是 OpenAI？

---
*确认计划后，请回复“确认”，我们将从第一阶段开始执行。*
