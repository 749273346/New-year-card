# 新年贺卡项目介绍 (New Year Card Project)

## 项目概述
这是一个基于 **Next.js** 开发的在线新年贺卡生成器。用户可以通过输入名字，生成带有定制祝福语、精美背景和动态效果的电子贺卡。项目旨在提供一个互动性强、加载速度快且充满节日氛围的网页应用。

## 核心功能

### 1. 智能祝福语生成
- 集成了 **智谱 AI (Zhipu AI)** 接口，能够根据用户输入的名字，智能生成富有寓意的藏头诗或祝福语。
- 支持流式输出，提升用户体验。

### 2. 动态贺卡展示
- **多主题支持**：提供多种预设主题（如传统红金、清新自然等），每种主题包含不同的配色和装饰元素。
- **随机背景**：内置 10 张精选的新年背景图，每次生成时随机切换。
- **Canvas 绘图**：前端实时将祝福语、名字和背景合成，支持用户预览和下载图片。

### 3. 音效与氛围
- **背景音乐**：内置多首新年喜庆背景音乐（如《恭喜发财》、《春节序曲》等），支持随机播放和静音控制。
- **特色音效**：特别添加了**马叫声**音效库（8种不同音效），在贺卡生成成功瞬间随机播放，增加趣味性（寓意"马到成功"）。
- **烟花特效**：集成 `Fireworks` 组件，点击屏幕或生成成功时触发绚丽的烟花动画。

### 4. 微信友好优化
- 针对微信内置浏览器进行了适配。
- 解决了自动播放音频的兼容性问题（通过监听用户交互和 WeixinJSBridge）。
- 部署方案优化，推荐使用 **Zeabur** 以确保在微信内的访问畅通。

## 技术栈
- **框架**: Next.js 14 (App Router)
- **语言**: TypeScript
- **样式**: Tailwind CSS + Framer Motion (动画)
- **部署**: Zeabur / Vercel / Netlify
- **图标**: Lucide React

## 最近更新日志
- **音效库优化**：扩充了马叫声音效库至 8 个文件，并移除了体积过大（>2MB）的音频文件以节省流量。
- **流量优化**：优化了静态资源加载策略，防止 Netlify 等平台流量超标。
- **部署迁移**：由于 Vercel 默认域名在微信被拦截，目前推荐使用 Zeabur 进行部署，并配置了 `zeabur.app` 免费子域名。

## 目录结构说明
- `/app`: Next.js 路由和页面逻辑
- `/components`:由于复用的 UI 组件（如音乐播放器、烟花、装饰元素）
- `/public/music`: 音频资源文件
- `/public/backgrounds`: 背景图片资源
- `/lib`: 工具函数和 API 调用逻辑
